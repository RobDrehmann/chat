(this.webpackJsonpchat=this.webpackJsonpchat||[]).push([[0],{23:function(e,t,n){},25:function(e,t,n){},30:function(e,t,n){"use strict";n.r(t);var c=n(3),r=n.n(c),a=n(14),i=n.n(a),s=(n(23),n(13)),u=n.n(s),o=n(15),d=n(10),j=(n(25),n(8)),h=(n(31),n(27),n(17)),p=n(18),b=n(4);j.a.apps.length?j.a.app():j.a.initializeApp({apiKey:"AIzaSyD1GDCZi29UVcfj7yMVh7-6QtgAs6FZG1M",authDomain:"chat-e5c95.firebaseapp.com",projectId:"chat-e5c95",storageBucket:"chat-e5c95.appspot.com",messagingSenderId:"334888117557",appId:"1:334888117557:web:52d8c80d67d3d35d69d87c",measurementId:"G-W42C6RM14K"});var l=j.a.auth(),O=j.a.firestore();function g(){return Object(b.jsx)("button",{onClick:function(){var e=new j.a.auth.GoogleAuthProvider;l.signInWithPopup(e)},children:"Sign in with Google"})}function m(){return Object(b.jsx)("button",{onClick:function(){return l.signOut()},children:"Sign Out"})}function f(){var e=O.collection("messages"),t=e.orderBy("createdAt","desc").limit(7),n=Object(p.a)(t,{idField:"id"}),r=Object(d.a)(n,1)[0],a=Object(c.useState)(""),i=Object(d.a)(a,2),s=i[0],h=i[1],g=function(){var t=Object(o.a)(u.a.mark((function t(n){var c,r,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),c=l.currentUser,r=c.uid,a=c.photoURL,t.next=4,e.add({text:s,createdAt:j.a.firestore.FieldValue.serverTimestamp(),uid:r,photoURL:a});case 4:h("");case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{children:Object(b.jsx)(m,{})}),Object(b.jsx)("div",{children:r&&r.map((function(e){return Object(b.jsx)(x,{message:e},e.id)}))}),Object(b.jsxs)("form",{onSubmit:g,children:[Object(b.jsx)("input",{value:s,onChange:function(e){return h(e.target.value)}}),Object(b.jsx)("button",{type:"submit",children:"Send"})]})]})}function x(e){var t=e.message,n=t.text,c=t.uid,r=t.photoURL,a=c===l.currentUser.uid?"sent":"received";return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("div",{className:"message ".concat(a),children:[Object(b.jsx)("img",{src:r}),Object(b.jsx)("p",{children:n})]})})}var v=function(){var e=Object(h.a)(l),t=Object(d.a)(e,1)[0];return Object(b.jsxs)("div",{className:"App",children:[Object(b.jsx)("header",{className:"App-header"}),Object(b.jsx)("h2",{children:"Message App"}),Object(b.jsx)("h4",{children:"By: Rob Drehmann"}),t?Object(b.jsx)(f,{}):Object(b.jsx)(g,{})]})},A=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,32)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),c(e),r(e),a(e),i(e)}))};i.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(v,{})}),document.getElementById("root")),A()}},[[30,1,2]]]);
//# sourceMappingURL=main.9288f5de.chunk.js.map